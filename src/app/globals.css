@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════
   Bottle Keep - 和モダンデザインシステム
   日本の伝統美×現代的UIの融合
   ═══════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────
   カラーパレット - 日本の伝統色
   ───────────────────────────────────────────────────────────────── */
:root {
  /* 和紙調の温かみのある背景 */
  --background: #faf8f5;
  --background-warm: #f7f3ed;
  --foreground: #1a1a1a;

  /* 藍色 - メインカラー（濃淡バリエーション） */
  --primary: #1e4d78;
  --primary-light: #2a6090;
  --primary-dark: #163a5a;
  --primary-foreground: #ffffff;

  /* 浅葱色 - アクセントカラー */
  --accent: #00a3af;
  --accent-light: #00c4d0;
  --accent-foreground: #ffffff;

  /* 金茶 - ハイライト（輝きのバリエーション） */
  --gold: #c7a252;
  --gold-light: #d4b875;
  --gold-dark: #a88a3d;

  /* 朱色 - エラー・警告 */
  --vermilion: #d14836;
  --vermilion-light: #e06050;

  /* 和紙調の背景色 */
  --muted: #f5f0e8;
  --muted-foreground: #5c5c5c;

  /* ボーダー（温かみのある色） */
  --border: #d4ccc0;
  --border-light: #e8e2d8;

  /* シャドウカラー */
  --shadow-color: rgba(30, 77, 120, 0.08);
  --shadow-color-strong: rgba(30, 77, 120, 0.15);
}

/* ダークモード */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0f1419;
    --background-warm: #141a20;
    --foreground: #e8e6e3;
    --primary: #4c8db0;
    --primary-light: #5da0c5;
    --primary-dark: #3d7a9a;
    --primary-foreground: #ffffff;
    --accent: #00c4d0;
    --accent-light: #00dae8;
    --accent-foreground: #ffffff;
    --gold: #d4b366;
    --gold-light: #e0c580;
    --gold-dark: #b89a50;
    --vermilion: #e06050;
    --vermilion-light: #f07060;
    --muted: #1a2530;
    --muted-foreground: #a0a0a0;
    --border: #2a3540;
    --border-light: #354050;
    --shadow-color: rgba(0, 0, 0, 0.3);
    --shadow-color-strong: rgba(0, 0, 0, 0.5);
  }
}

@theme inline {
  --color-background: var(--background);
  --color-background-warm: var(--background-warm);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-light: var(--primary-light);
  --color-primary-dark: var(--primary-dark);
  --color-primary-foreground: var(--primary-foreground);
  --color-accent: var(--accent);
  --color-accent-light: var(--accent-light);
  --color-accent-foreground: var(--accent-foreground);
  --color-gold: var(--gold);
  --color-gold-light: var(--gold-light);
  --color-gold-dark: var(--gold-dark);
  --color-vermilion: var(--vermilion);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-border-light: var(--border-light);
  --font-sans: var(--font-noto-serif-jp), serif;
  --font-mono: var(--font-geist-mono);
}

/* ─────────────────────────────────────────────────────────────────
   和風テクスチャ・パターン
   ───────────────────────────────────────────────────────────────── */

/* 青海波パターン（ログイン画面背景用） */
.pattern-seigaiha {
  background-color: var(--background);
  background-image:
    radial-gradient(circle at 100% 150%, var(--primary) 24%, transparent 24%),
    radial-gradient(circle at 0% 150%, var(--primary) 24%, transparent 24%),
    radial-gradient(circle at 50% 100%, var(--primary) 24%, transparent 24%),
    radial-gradient(circle at 100% 50%, var(--primary) 12%, transparent 12%),
    radial-gradient(circle at 0% 50%, var(--primary) 12%, transparent 12%);
  background-size: 48px 48px;
  background-position: 0 0;
  opacity: 0.06;
  position: absolute;
  inset: 0;
  pointer-events: none;
}

/* 和紙テクスチャ（微細なノイズ） */
.texture-washi {
  position: relative;
}

.texture-washi::before {
  content: "";
  position: absolute;
  inset: 0;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
}

/* 市松模様（装飾用） */
.pattern-ichimatsu {
  background-image:
    linear-gradient(45deg, var(--primary) 25%, transparent 25%),
    linear-gradient(-45deg, var(--primary) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--primary) 75%),
    linear-gradient(-45deg, transparent 75%, var(--primary) 75%);
  background-size: 8px 8px;
  background-position: 0 0, 0 4px, 4px -4px, -4px 0px;
  opacity: 0.05;
}

/* 麻の葉模様（ヘッダー装飾用） */
.pattern-asanoha {
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 0L12 12M12 12L0 6M12 12L24 6M12 12L0 18M12 12L24 18M12 12L12 24' stroke='%231e4d78' stroke-width='0.5' fill='none' opacity='0.15'/%3E%3C/svg%3E");
  background-size: 24px 24px;
}

/* ─────────────────────────────────────────────────────────────────
   基本設定
   ───────────────────────────────────────────────────────────────── */

html {
  overscroll-behavior: none;
  scroll-behavior: smooth;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), serif;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  -webkit-overflow-scrolling: touch;
  /* 微細な和紙風背景 */
  background-image:
    radial-gradient(circle at 20% 80%, var(--primary) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, var(--gold) 0%, transparent 50%);
  background-size: 100% 100%;
  background-attachment: fixed;
  background-blend-mode: soft-light;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  opacity: 0.015;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
}

/* タッチターゲット最小サイズ（44x44px）の確保 */
button,
a,
input[type="button"],
input[type="submit"] {
  min-height: 44px;
  min-width: 44px;
}

/* フォーム要素のズーム防止（iOS Safari） */
input,
textarea,
select {
  font-size: 16px;
}

/* スクロールバーの非表示（モバイル向け） */
::-webkit-scrollbar {
  display: none;
}

* {
  scrollbar-width: none;
}

/* ─────────────────────────────────────────────────────────────────
   カードスタイル
   ───────────────────────────────────────────────────────────────── */

/* 和風カード - 畳の縁風トップライン */
.card-tatami {
  position: relative;
  background: var(--muted);
  border-radius: 8px;
  overflow: hidden;
  box-shadow:
    0 2px 8px var(--shadow-color),
    0 1px 2px var(--shadow-color);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-tatami::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(
    90deg,
    var(--gold-dark) 0%,
    var(--gold) 20%,
    var(--gold-light) 50%,
    var(--gold) 80%,
    var(--gold-dark) 100%
  );
}

.card-tatami:active {
  transform: scale(0.98);
  box-shadow: 0 1px 4px var(--shadow-color);
}

/* 旧スタイル互換 */
.card-accent-line {
  border-left: 4px solid var(--primary);
}

/* ─────────────────────────────────────────────────────────────────
   ボタンスタイル
   ───────────────────────────────────────────────────────────────── */

/* プライマリボタン - 藍染め風グラデーション */
.btn-primary-gradient {
  background: linear-gradient(
    180deg,
    var(--primary-light) 0%,
    var(--primary) 50%,
    var(--primary-dark) 100%
  );
  box-shadow:
    0 2px 4px var(--shadow-color-strong),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition: all 0.2s ease;
}

.btn-primary-gradient:hover {
  background: linear-gradient(
    180deg,
    var(--primary) 0%,
    var(--primary-dark) 100%
  );
}

.btn-primary-gradient:active {
  transform: translateY(1px);
  box-shadow: 0 1px 2px var(--shadow-color);
}

/* ゴールドボタン */
.btn-gold {
  background: linear-gradient(
    180deg,
    var(--gold-light) 0%,
    var(--gold) 50%,
    var(--gold-dark) 100%
  );
  color: var(--primary-dark);
  font-weight: 600;
  box-shadow:
    0 2px 4px rgba(199, 162, 82, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

/* ─────────────────────────────────────────────────────────────────
   ナビゲーションスタイル
   ───────────────────────────────────────────────────────────────── */

/* ボトムナビ - 金縁付き */
.nav-japanese {
  background: linear-gradient(
    180deg,
    var(--primary-light) 0%,
    var(--primary) 30%,
    var(--primary-dark) 100%
  );
  position: relative;
}

.nav-japanese::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    var(--gold) 20%,
    var(--gold-light) 50%,
    var(--gold) 80%,
    transparent 100%
  );
}

/* アクティブタブの光彩 */
.nav-item-active {
  position: relative;
}

.nav-item-active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 3px;
  background: var(--gold);
  border-radius: 3px 3px 0 0;
  box-shadow: 0 0 8px var(--gold);
}

/* ─────────────────────────────────────────────────────────────────
   星評価 - 金箔風
   ───────────────────────────────────────────────────────────────── */

.star-gold {
  background: linear-gradient(
    135deg,
    var(--gold-light) 0%,
    var(--gold) 50%,
    var(--gold-dark) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 1px 1px rgba(199, 162, 82, 0.5));
}

.star-empty {
  color: var(--border);
}

/* ─────────────────────────────────────────────────────────────────
   アニメーション
   ───────────────────────────────────────────────────────────────── */

/* スライドイン（下から） */
@keyframes slide-in-from-bottom {
  from {
    opacity: 0;
    transform: translateY(1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* フェードイン */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* スケールイン */
@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ふわっと浮かぶ */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

/* 金箔キラキラ */
@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

.animate-in {
  animation-duration: 300ms;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  animation-fill-mode: both;
}

.slide-in-from-bottom-4 {
  animation-name: slide-in-from-bottom;
}

.fade-in {
  animation-name: fade-in;
}

.scale-in {
  animation-name: scale-in;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    var(--gold-dark) 0%,
    var(--gold-light) 50%,
    var(--gold-dark) 100%
  );
  background-size: 200% auto;
  animation: shimmer 3s linear infinite;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* スタガードアニメーション用 */
.stagger-1 { animation-delay: 50ms; }
.stagger-2 { animation-delay: 100ms; }
.stagger-3 { animation-delay: 150ms; }
.stagger-4 { animation-delay: 200ms; }
.stagger-5 { animation-delay: 250ms; }
.stagger-6 { animation-delay: 300ms; }

/* ─────────────────────────────────────────────────────────────────
   装飾要素
   ───────────────────────────────────────────────────────────────── */

/* 水墨画風の影 */
.shadow-sumi {
  box-shadow:
    4px 4px 0 0 var(--border),
    8px 8px 20px -4px var(--shadow-color-strong);
}

/* 金縁装飾 */
.border-gold-accent {
  border: 1px solid var(--border);
  position: relative;
}

.border-gold-accent::before {
  content: "";
  position: absolute;
  top: -1px;
  left: 20%;
  right: 20%;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--gold),
    transparent
  );
}

/* 印鑑風の丸装飾 */
.stamp-circle {
  width: 48px;
  height: 48px;
  border: 2px solid var(--vermilion);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--vermilion);
  font-weight: bold;
  position: relative;
}

.stamp-circle::before {
  content: "";
  position: absolute;
  inset: 2px;
  border: 1px solid var(--vermilion);
  border-radius: 50%;
  opacity: 0.5;
}

/* ─────────────────────────────────────────────────────────────────
   フォームスタイル
   ───────────────────────────────────────────────────────────────── */

.input-japanese {
  background: var(--muted);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px 16px;
  transition: all 0.2s ease;
}

.input-japanese:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow:
    0 0 0 3px rgba(30, 77, 120, 0.1),
    inset 0 1px 2px var(--shadow-color);
}

/* ─────────────────────────────────────────────────────────────────
   ヘッダースタイル
   ───────────────────────────────────────────────────────────────── */

.header-japanese {
  background: linear-gradient(
    180deg,
    var(--background) 0%,
    var(--background-warm) 100%
  );
  border-bottom: 1px solid var(--border-light);
  position: relative;
}

.header-japanese::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 10%;
  right: 10%;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    var(--gold),
    transparent
  );
}

/* ─────────────────────────────────────────────────────────────────
   空状態・プレースホルダー
   ───────────────────────────────────────────────────────────────── */

/* 水墨画風アイコンコンテナ */
.empty-state-icon {
  width: 120px;
  height: 120px;
  background: linear-gradient(
    135deg,
    var(--muted) 0%,
    var(--background) 100%
  );
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  box-shadow: inset 0 2px 4px var(--shadow-color);
}

.empty-state-icon::before {
  content: "";
  position: absolute;
  inset: 8px;
  border: 1px dashed var(--border);
  border-radius: 50%;
}

/* 写真なしプレースホルダー */
.photo-placeholder {
  background: linear-gradient(
    135deg,
    var(--muted) 0%,
    var(--border-light) 100%
  );
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.photo-placeholder::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 8c-6.6 0-12 5.4-12 12s5.4 12 12 12 12-5.4 12-12-5.4-12-12-12zm0 22c-5.5 0-10-4.5-10-10s4.5-10 10-10 10 4.5 10 10-4.5 10-10 10z' fill='%231e4d78' opacity='0.1'/%3E%3Cpath d='M20 12v8M16 20h8' stroke='%231e4d78' stroke-width='2' opacity='0.1'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  opacity: 0.5;
}
